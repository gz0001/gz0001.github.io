(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(11),o=t(104),i=t(105),c=t(106),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}t(34),t(41);var u=t(7),f=t(2),d=t.n(f),h=t(3),x=t(12),y=Object(a.createContext)({}),p={dragging:!1,full:!1,layout:[{i:"a",x:0,y:0,w:1,h:1},{i:"b",x:1,y:0,w:1,h:1},{i:"c",x:0,y:1,w:1,h:1},{i:"d",x:1,y:1,w:1,h:1}],open:!1},m=function(e,n){var t=n.type,a=n.payload;switch(t){case"DRAGGING":return Object(x.a)({},e,{dragging:!e.dragging});case"TOGGLE_NAV":return Object(x.a)({},e,{open:!e.open});case"TOGGLE_FULL_SCREEN":return Object(x.a)({},e,{full:!e.full});case"UPDATE_LAYOUT":return Object(x.a)({},e,{layout:a.layout});default:return e}},w=function(e){return{type:"UPDATE_LAYOUT",payload:{layout:e}}},g=t(28),b=a.memo(function(e){var n=e.btn,t=e.className,r=e.cursor,o=e.name,i=Object(g.a)(e,["btn","className","cursor","name"]);return a.createElement(h.Text,Object.assign({},i,{className:d()(t&&t,"Icon","icon-".concat(o)),cursor:n?"hover:pointer":r}))});b.defaultProps={transition:!0};t(68);var v=function(e){var n=e.open,t=a.useContext(y),r=t.state,o=r.full,i=r.layout,c=t.dispatch;return a.createElement(h.Box,{className:d()("DashboardNav",n&&"open"),h:"full"},a.createElement(h.Box,{className:d()("DashboardNav__content"),flex:"col",h:"full",pt:"8",type:"nav"},["a","b","c","d"].map(function(e){var n=i.find(function(n){return e===n.i});return a.createElement(h.Box,{className:d()("DashboardNav__item",!o&&!n&&"grabbable"),divProps:{draggable:!o&&!n,onDragStart:function(n){n.dataTransfer.setData("type",e),c({type:"DRAGGING"})},onDragEnd:function(){c({type:"DRAGGING"})}},bg:"fourth",flex:"col",items:"center",justify:"center",key:e,px:"2",mt:"6"},n&&a.createElement(b,{bg:"white",className:"DashboardNav__check",color:"third",display:"flex",h:"5",items:"center",justify:"center",name:"check",pin:"t, r",position:"absolute",rounded:"1/2",size:"xs",w:"5"}),a.createElement(h.Text,{bold:!0,center:!0,className:"DashboardNav__label",uppercase:!0},e))})))},E=t(26),N=(t(93),function(e){e.className;var n=e.i,t=e.label,r=e.onClose,o=e.onFullScreen,i=a.useContext(y).state,c=i.full,l=1===i.layout.length;return a.createElement(h.Box,{className:d()("DashboardItem","pl"===n&&"pl"),bg:"second",display:"block",h:"full",w:"full"},"pl"!==n&&a.createElement(h.Box,{className:d()("DashboardItem__header"),items:"center",justify:"between",pl:"8",pr:"4",py:"2"},a.createElement(h.Headline,{className:"DashboardItem__headline",font:"bold",size:"xl",uppercase:!0},t),a.createElement(h.Box,{w:"auto"},!c&&!l&&a.createElement(b,{className:"draghandler",mr:"3",name:"arrows",cursor:"hover:move"}),!c&&a.createElement(b,{btn:!0,mr:"3",name:"trash",hover:"third",textProps:{onClick:function(){return r(n)}}}),a.createElement(b,{btn:!0,name:c?"compress":"expand",hover:"third",textProps:{onClick:function(){return o(n)}}}))))}),_=function(e){return JSON.parse(JSON.stringify(e))},D=function(e,n){return JSON.stringify(e)===JSON.stringify(n)},k=(t(95),t(97),t(70)),O=t(78).SizeMe,I=function(e){for(var n=[{x:0,y:0},{x:0,y:1},{x:1,y:0},{x:1,y:1}],t=[],a=function(a){var r=e.find(function(e){return e.x===n[a].x&&e.y===n[a].y});r&&t.push(r)},r=0;r<n.length;r++)a(r);return t},C=function(e){Object(E.a)(e);var n=["a","b","c","d"],t=a.useContext(y),r=t.state,o=r.dragging,i=r.full,c=t.dispatch,l=Object(h.createState)({layout:[{i:"a",x:0,y:0,w:1,h:1},{i:"b",x:1,y:0,w:1,h:1},{i:"c",x:0,y:1,w:1,h:1},{i:"d",x:1,y:1,w:1,h:1}]}),s=Object(u.a)(l,2),f=s[0],x=s[1],p=f.layout,m=a.useRef(null),g=document.getElementsByClassName("DashboardContent__wrapper")[0];a.useEffect(function(){var e=p.findIndex(function(e){return"pl"===e.i});!o&&e>=0&&v("pl")});var b=function(e){var n=_(e),t=n.findIndex(function(e){return e.y>1});if(t>-1)switch(n.length){case 4:n[t].y--,n[t].x>0?n[t].x--:n[t].x++,n=I(n);break;case 3:var a=n.findIndex(function(e){return 0===e.y}),r=n.findIndex(function(e){return 1===e.y});if(n[t].w>1)n[t].y=0,n[t].w=1,n[t].x=1===n[a].x?0:1,n[r].w=2;else if(n[r].w<2)n[t].y--,n[t].x>0?n[t].x--:n[t].x++;else{var o=n.findIndex(function(e){return 0===e.y});n[o].x=0,n[o].w=2,n[r].w=1,n[r].x=1,n[t].y=1,n[t].x=0}}!D(n,p)&&x({layout:n})},v=function(e){var n=_(p),t=n.findIndex(function(n){return n.i===e}),a=[n[t].x,n[t].y];switch(n.splice(t,1),n.length){case 3:var r=p.findIndex(function(e){return e.y===a[1]});n[r].x=0,n[r].w=2;break;case 2:n[0].x=0,n[0].y=0,n[0].w=2,n[1].x=1,n[1].y=0,n[1].w=2;break;case 1:n[0].x=0,n[0].y=0,n[0].w=2,n[0].h=2}x({layout:n}),"pl"!==e&&c(w(n))},C=function(e){if(i){var n=m.current.filter(function(n){return n.i===e});x({layout:n}),setTimeout(function(){x({layout:m.current}),c({type:"TOGGLE_FULL_SCREEN"})},600)}else{m.current=_(p),x({layout:[{i:e,x:0,y:0,w:2,h:2}]}),c({type:"TOGGLE_FULL_SCREEN"})}},j=function(e){var n=g.getBoundingClientRect(),t=e.clientX-n.left;return[e.clientY-n.top<=n.height/2?0:1,t<=n.width/2?0:1]},G=function(e){e.preventDefault();var n,t=j(e),a=Object(u.a)(t,2),r=a[0],o=a[1];if(p.findIndex(function(e){return"pl"===e.i})<0)switch(p.length){case 1:n=[{i:"pl",x:0,y:r,w:2,h:1},{i:p[0].i,x:0,y:0===r?1:0,w:2,h:1}],x({layout:n});break;case 2:(n=I(p.map(function(e){return{i:e.i,x:e.x,y:e.y,w:2,h:1}})))[0].y=0===r?1:0,n[0].w=0===r?1:2,n[1].x=1,n[1].y=1,n[1].w=1,n.push({i:"pl",x:0,y:r<1?0:1,w:r>0?1:2,h:1}),x({layout:n});break;case 3:(n=p.map(function(e){return{i:e.i,x:e.x,y:e.y,w:1,h:1}})).unshift({i:"pl",x:0,y:o,w:1,h:1}),x({layout:n})}},T=function(e){e.preventDefault();var n=j(e),t=Object(u.a)(n,2),a=t[0],r=t[1],o=_(p),i=o.findIndex(function(e){return"pl"===e.i});if(i>-1){switch(o.length){case 2:o[0].y=a,o[1].y=0===a?1:0;break;case 3:if(a<1){var c=o.findIndex(function(e){return 2===e.w});c!==i&&(o[c].x=o[i].x,o[c].y=o[i].y,o[c].w=1,o[i].x=0,o[i].y=0,o[i].w=2)}else{if(2===o[i].w){o=I(o);var l=r<1?1:2;o[i].x=o[l].x,o[i].y=o[l].y,o[l].x=0,o[l].y=0,o[l].w=2}else{var s=-1;r<1?o[i].x>0&&(s=o.findIndex(function(e){return"pl"!==e.i&&1===e.w})):o[i].x<1&&(s=o.findIndex(function(e){return"pl"!==e.i&&1===e.w})),s>-1&&(o[s].x=o[i].x,o[i].x=r)}o[i].w=1}break;case 4:if(a!==r){var f=a;a=r,r=f}if(o[i].x!==a||o[i].y!==r){var d=o.findIndex(function(e){return e.x===a&&e.y===r});o[d].x=o[i].x,o[d].y=o[i].y,o[i].x=a,o[i].y=r}}!D(o,p)&&x({layout:o})}},L=function(e){e.preventDefault();var t=e.dataTransfer.getData("type"),a=_(p),r=a.findIndex(function(e){return"pl"===e.i});if(n.includes(t)){switch(a.length){case 0:x({layout:a=[{i:t,x:0,y:0,w:2,h:1}]}),setTimeout(function(){a[0].h=2,x({layout:a})},200);break;case 2:case 3:case 4:r>-1&&(a[r].i=t,x({layout:a}))}c(w(a))}};return a.createElement(O,{monitorHeight:!0,refreshRate:200,refreshMode:"debounce"},function(e){var n=e.size;return a.createElement(h.Box,{divProps:{onDragEnter:G,onDragOver:T,onDrop:L},className:d()("DashboardContent"),flex:"1",items:"center",h:"full",justify:"center"},a.createElement(k,{className:"DashboardContent__wrapper",layout:p,cols:2,margin:[0,0],rowHeight:.97*n.height/2,width:.95*n.width,autoSize:!1,draggableHandle:".draghandler",useCSSTransforms:!0,isResizable:!1,onLayoutChange:b},p.map(function(e){return a.createElement("div",{className:d()("DashboardContent__item p-2","pl"===e.i&&"placeholder"),key:e.i},a.createElement(N,{i:e.i,label:e.i,onClose:v,onFullScreen:C}))})))})};t(99);r.render(a.createElement(o.a,null,a.createElement(i.a,null,a.createElement(c.a,{component:function(e){var n=a.useReducer(m,p),t=Object(u.a)(n,2),r=t[0],o=t[1],i=r.open;return a.createElement(y.Provider,{value:{state:r,dispatch:o}},a.createElement(h.Box,{className:d()("Dashboard"),bg:"first-dark",flex:"col",h:"screen",overflow:"hidden",text:"white",w:"full"},a.createElement(h.Box,{className:"Dashboard__header",items:"end",justify:"between",px:"12"},a.createElement(h.Button,{className:"Dashboard__toggle-nav",bg:"transparent",onClick:function(){return o({type:"TOGGLE_NAV"})},text:"xl"},a.createElement("span",{className:d()("Dashboard__toggle-navIcon icon icon-indent mr-4 text-lg inline-block",i&&"open")}),a.createElement("span",null,"Widgets"))),a.createElement(h.Box,{className:"Dashboard__main"},a.createElement(v,{open:i}),a.createElement(C,null))))}}))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/dnd-dashboard",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/dnd-dashboard","/service-worker.js");l?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):s(e)})}}()},29:function(e,n,t){e.exports=t(102)},41:function(e,n,t){},68:function(e,n,t){},93:function(e,n,t){},97:function(e,n,t){},99:function(e,n,t){}},[[29,2,1]]]);
//# sourceMappingURL=main.7430ba6c.chunk.js.map